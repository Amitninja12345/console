<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="https://raw.githubusercontent.com/hal/hal.next/develop/spi/src/main/resources/org/jboss/hal/spi/MbuiView.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<!--
  ~ Copyright 2015-2016 Red Hat, Inc, and individual contributors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<view>
    <vertical-navigation id="resource-adapter-vertical-navigation">
        <item id="resource-adapter-configuration-item" title="Configuration" icon="pficon pficon-settings">
            <metadata address="/{selected.profile}/subsystem=resource-adapters=*">
                <h1>Configuration</h1>
                <p>{{metadata.getDescription().getDescription()}}</p>
                <form id="resource-adapter-configuration-form" title="Configuration"
                      on-save="{{saveConfiguration(form, changedValues)}}">
                    <attributes>
                        <group id="resource-adapter-configuration-attributes"
                               title="{{mbuiContext.resources().constants().attributes()}}">
                            <attribute name="archive"/>
                            <attribute name="beanvalidationgroups"/>
                            <attribute name="bootstrap-context"/>
                            <attribute name="module"/>
                            <attribute
                                    form-item='{{new org.jboss.hal.ballroom.form.PropertiesItem("property", mbuiContext.resources().constants().properties())}}'/>
                            <attribute name="statistics-enabled"/>
                            <attribute name="transaction-support"/>
                        </group>
                        <group id="resource-adapter-configuration-wm-security" title="Work Manager Security">
                            <attribute name="wm-security"/>
                            <attribute name="wm-security-default-groups"/>
                            <attribute name="wm-security-default-principal"/>
                            <attribute name="wm-security-domain"/>
                            <attribute
                                    form-item='{{new org.jboss.hal.ballroom.form.PropertiesItem("wm-security-mapping-groups", new org.jboss.hal.ballroom.LabelBuilder().label("wm-security-mapping-groups"))}}'/>
                            <attribute name="wm-security-mapping-required"/>
                            <attribute
                                    form-item='{{new org.jboss.hal.ballroom.form.PropertiesItem("wm-security-mapping-users", new org.jboss.hal.ballroom.LabelBuilder().label("wm-security-mapping-users"))}}'/>
                        </group>
                    </attributes>
                </form>
            </metadata>
        </item>

        <item id="resource-adapter-connection-definition-item" title="Connection Definitions"
              icon="pficon pficon-service">
            <metadata address="/{selected.profile}/subsystem=resource-adapters=*/connection-definitions=*">
                <h1>Connection Definitions</h1>
                <p>{{metadata.getDescription().getDescription()}}</p>
                <table id="resource-adapter-connection-definition-table" title="Connection Definition"
                       form-ref="resource-adapter-connection-definition-form">
                    <actions>
                        <action title="{{mbuiContext.resources().constants().add()}}"
                                handler="{{addConnectionDefinition()}}"/>
                        <action title="{{mbuiContext.resources().constants().remove()}}"
                                handler="{{removeConnectionDefinition(api)}}" scope="selected"/>
                    </actions>
                    <columns>
                        <column name="name"/>
                    </columns>
                </table>
                <form id="resource-adapter-connection-definition-form" title="Connection Definition"
                      on-save="{{saveConnectionDefinition(form, changedValues)}}">
                    <attributes>
                        <group id="resource-adapter-connection-definition-attributes"
                               title="{{mbuiContext.resources().constants().attributes()}}">
                            <attribute name="allocation-retry"/>
                            <attribute name="allocation-retry-wait-millis"/>
                            <attribute name="blocking-timeout-wait-millis"/>
                            <attribute name="class-name"/>
                            <attribute name="connectable"/>
                            <attribute name="enabled"/>
                            <attribute
                                    form-item='{{new org.jboss.hal.ballroom.form.PropertiesItem("property", mbuiContext.resources().constants().properties())}}'/>
                        </group>
                        <group id="resource-adapter-connection-definition-pool"
                               title="{{mbuiContext.resources().constants().pool()}}">
                            <attribute name="min-pool-size"/>
                            <attribute name="max-pool-size"/>
                            <attribute name="initial-pool-size"/>
                            <attribute name="pool-prefill"/>
                            <attribute name="pool-use-strict-min"/>
                            <attribute name="flush-strategy"/>
                        </group>
                        <group id="resource-adapter-connection-definition-security"
                               title="{{mbuiContext.resources().constants().security()}}">
                            <attribute name="security-application"/>
                            <attribute name="security-domain"/>
                            <attribute name="security-domain-and-application"/>
                        </group>
                        <group id="resource-adapter-connection-definition-validation"
                               title="{{mbuiContext.resources().constants().validation()}}">
                            <attribute name="background-validation"/>
                            <attribute name="background-validation-millis"/>
                            <attribute name="validate-on-match"/>
                        </group>
                    </attributes>
                </form>
            </metadata>
        </item>

        <item id="resource-adapter-admin-object-item" title="Admin |Objects" icon="fa fa-lock">
            <metadata address="/{selected.profile}/subsystem=resource-adapters=*/admin-objects=*">
                <h1>Admin Objects</h1>
                <p>{{metadata.getDescription().getDescription()}}</p>
                <table id="resource-adapter-admin-object-table" title="Admin Object"
                       form-ref="resource-adapter-admin-object-form">
                    <actions>
                        <action title="{{mbuiContext.resources().constants().add()}}" handler="{{addAdminObject()}}"/>
                        <action title="{{mbuiContext.resources().constants().remove()}}"
                                handler="{{removeAdminObject(api)}}" scope="selected"/>
                    </actions>
                    <columns>
                        <column name="name"/>
                    </columns>
                </table>
                <form id="resource-adapter-admin-object-form" title="Admin Object"
                      on-save="{{saveAdminObject(form, changedValues)}}">
                    <attributes>
                        <attribute name="class-name"/>
                        <attribute name="enabled"/>
                        <attribute name="jndi-name"/>
                        <attribute
                                form-item='{{new org.jboss.hal.ballroom.form.PropertiesItem("property", mbuiContext.resources().constants().properties())}}'/>
                        <attribute name="use-java-context"/>
                    </attributes>
                </form>
            </metadata>
        </item>
    </vertical-navigation>
</view>